
위성 영상의 종류

Passive 영상

    - Passive 센서는 물체가 자체적으로 발산하는 에너지를 관측. 지구가 흡수한 태양 복사 에너지를
    재방출 하고, 이때 재방출 된 에너지를 수신하여 처리함. Passive 센서는 이 지구 복사 에너지의
    전자기파 범위를 활용하여 가시광선, 근적외선, 열적외선 등의 영상을 제공

    - 관측 파장대에 따라 Electro-Optical system, Infrared system, Microwave system으로
    나뉜다.

        1) Electro-Optical system - 사람의 눈으로 관측 가능한 파장대역에 대한 영상.
        0.3~2.5㎛ 범위의 가시광선에서 반사적외선 영역을 포함한다. 위성의 센서에 따라 관측
        파장대역이 달라지며 multispectral, hyperspectral 등의 영상이 생성된다.
        일반적인 RGB 영상이 여기에 해당한다.

        2) Infrared system - 가시광선보다 긴 파장의 영역으로 3~15㎛ 범위의 열적외선
        파장대에서는 주로 물체에서 방출되는 열을 측정한다.

        3) Microwave system - 적외선보다 긴, cm 이상의 파장대로 태양이나 구름에 대한 영향이
        감소한다. 하지만 대기 중 물방울이나 얼음 입자와 같은 수상체 등의 요소에는 민감하게
        작용하기 때문에 강수량 들을 측정하는 radiometer에 활용된다.

Active 영상

    - Actve 센서는 위성에서 직접 신호를 송신하고 물체에 반사되어 돌아오는 신호를 측정. 직접
    신호를 송수신 하기 때문에 태양의 여부와 관계없이 밤낮으로 전천후 관측이 가능하다. 또한
    지구 복사 에너지가 약한 영역에서도 활용될 수 있다.
    대표적인 예시로는 Radar와 LiDAR 영상이 있다.

        1) SAR(Synthetic Aperture Radar) - 물리적으로 한정된 길이의 안테나만 사용한다면
        해상도나 커버 영역등에 한계가 크기 때문에 연속적으로 송수신된 신호를 합성하여 생성되는
        레이더 영상. 마이크로파를 이용해 신호를 송수신하여 관측 물체의 특성이나 신호의 반사에
        의한 특성을 보여주는 진폭(Amplitude)과 거리정보를 나타내는 위상(phase) 정보로 기록된다.

        신호를 직접 송수신 하기 때문의 태양 유무나 기상 상태에 관계없이 전천후 관측 가능하다는
        장점이 있지만, 육안으로 관측 가능한 파장대를 사용하는 것이 아니기 때문에 RGB영상과는
        특징과 구성이 달라 일반적인 영상 분석을 수행하기에는 어려움이 따른다. 또한 지표의
        수직 방향이 아닌 옆쪽에서 side looking을 통해 영상을 생성하기 때문에 그 과정에서
        지형에 따른 왜곡이 발생하기도 한다.

-> 위성 영상을 활용한 연구에서는 연구의 목적과 필요 조건에 따라 적절한 영상과 파장대를 결정해야 한다.

-> 현재의 SI-Analytics에서는 주로 RGB 영상을 활용하여 영상 속 관심 객체 탐지(Object Detection)
, 변화된 지역을 탐지(Change Detection), 지표의 분류(Land use/Land cover Classification)의
연구를 수행하고 있다. RGB 뿐만 아니아 SAR 영상 등도 함께 활용하여 다양한 조건에 대한 위성 영상의
활용성을 높이기 위한 연구도 수행중이다.

ex) 차량, 선박, 항공기 등 관심 객체 검출 및 객체 정보 확인
    건물의 생성, 파손 및 지형의 변화 여부 판별
    RGB 및 SAR 영상에서 건물 영역 검출
    토양, 초목, 수계, 건물 등 지형 속성 구분

-------------------------------------------------------------------------------------

위성 영상의 중요한 파라미터 - 해상도(Resolution)

공간 해상도(Spatial resolution)

    - 얼마나 작고 가까이 있는 물체까지 자세하게 관측할 수 있는지에 대한 지표. 센서의 특성과 위성과
    물체까지의 거리에 따라 결정된다.
    - GSD(ground Sample Distance)는 영상에서 한 픽셀에 해당하는 실제 거리를 뜻하며
    GRD(Ground Resolved Distance)는 두 물체를 구별할 수 있는 최소한의 거리를 뜻한다.
    픽셀이 작다고 하더라도 GRD가 큰 값을 갖는다면 가까이 있는 두 물체를 구별할 수 없기 때문에
    해상도가 나빠지게 된다.
    - 즉 GSD와 GRD의 값이 같아야(full resolution) 해상도가 좋다고 할 수 있다.
    그리고 이를 영상의 공간 해상도 라고 불러준다.

    - 공간해상도는 위성의 고도와 시야각에 의해 결정된다. 위성의 시야각(FOV)는 센서가 관측할
    수 있는 영역에 대한 opening angle을 의미한다. FOV와 위성의 고도에 따라 위성이 하나의 궤도를
    지나면서 관측가능한 영역이 결정된다.
    위성의 순간 시야각(IFOV)은 위성이 한 순간에 관측 가능한 각도로, IFOV와 고도에 따라 한번에
    관측되는 resolution cell의 크기가 결정된다. 이 때 하나의 resolution cell이 하나의 픽셀이
    되며 두 물체의 거리가 resolution cell의 크기보다 커야 두 물체를 구분 가능하다고 한다.

분광 해상도(Spectral resolution)

    - 센서가 관측하는 전자기파 파장의 범위를 의미한다.
    위성 영상의 'Band'는 각각의 관측 파장대를 의미하며, 관측하는 물체의 해당 파장대에 대한
    특성을 보여주게 된다. 위성에 따라 밴드의 구성이 달라지게 되는데, 그 중 1번 밴드는
    가시광선에서 근적외선 파장대에 걸쳐 넓은 파장대의 범위를 관측하여 공간 해상도를 높인 영상인
    PAN(Panchromatic) 밴드인 경우가 많다.
    대신 특정 파장의 특성을 나타내지 못하기 때문에 측백으로 나타나게 되며, PAN 영상을 이용해
    RGB 밴드 영상에 샤프닝(Pan-sharpning)을 적용해 PS-RGB의 형태로 영상이 제공되는 경우가 많다.

    - RGB 영상과 같이 10개 미만의 파장대역을 관측하여 다양한 분광 대역을 감지해 색 표현이
    가능한 경우는 Multispectral 영상이라고 한다. 각 밴드를 어떻게 조합하느냐에 따라서
    영상이 일반적인 RGB영상으로 보여질 수도 있고 RGB 외에 다른 파장대에 대한 정보를 나타내는
    영상으로 표현될 수도 있다. 연구 목적에 따라 적절한 밴드를 선정하고 조합하는 과정이 필요하다.

    - Multispectral 영상보다 관측 파장 대역을 좁게(10nm), 더 다양하게(수십개의 밴드) 관측하여
    정밀한 분광해상도를 획득할 수 있는 영상은 Hyperspectral 영상이라고 한다. 관측 물체에 대한
    다양한 영상 및 분광 정보를 획득할 수 있게 되는 것이다. 이는 지표 광물 분류 등 미세한
    분광 정보를 분석해야 하는 연구 등에 활용될 수 있다.

시간 해상도(Temporal resolution)

    - 동일한 지역을 얼마나 자주 촬영하는가를 의미한다. revisit time이라고 하기도 한다.
    정지궤도 위성의 경우 분 단위 관측이 가능하지만, 낮은 궤도에서 전지구를 관측하는 일반적인
    극궤도 위성이라면 위성이 지구를 한 바퀴 돌아 다시 동일한 위치에 도달할 때 까지 기다려야 한다.

방사 해상도(Radiometric Resolution)

    - 영상을 관측할 때 에너지 강도에 대해 얼마나 민감한가를 의미하며 영상의 bit수로 표현된다.
    일반 영상은 0-255 8-bit 영상이지만, 위성의 경우 16-bit, 14-bit등 다양하게 나타난다.
    해양을 관측할 경우 육지에 비해 신호의 변과(대비)가 작기 때문에 더 민감한 센서로 관측하는
    것이 유리하다.

-> 원격탐사 분야에서는 연구 목적에 따라 더 강조하고자 하는 해상도를 결정해 적절한 위성 및
영상을 선택하게 된다. 위성 영상은 지표에서 방출되는 전자기파 에너지를 측정하는 것이기 때문에
에너지의 세기가 디텍터가 검출할수 있는 최소의 에너지 보다 커야 한다.
이 에너지의 세기는 위성이 가까울 때, 넓은 지역을 더 넓은 파장의 영역으로 긴 시간 관측할 수록
증가하게 된다.

하지만 이런 모든 조건을 다 만족할 수 없기 때문에 공간 해상도, 분광 해상도, 시간 해상도는
trade-off의 관계를 가질수 밖에 없다. 극 궤도 위성은 공간 해상도가 높은 대신 시간 해상도가 낮고
정지궤도 위상은 공간 해상도가 낮은 대신 시간 해상도에서는 이점을 가지게 된다.
결과적으로 높은 해상도를 갖기 위해서는 감지하는 파장대가 넓어지거나 재방문의 주기가 길어질 수
밖에 없다.

SI-Analytics에서는 이러한 한계를 극복하면서 공간해상도를 높여 영상 분석에 대한 활용성과 성능
을 높이기 위해 딥러닝을 활용한 Super-Resolution을 연구하고 있다.

또한 시간 해상도가 높아 분단위 관측이 가능한 정지궤도 위성을 이용해 강수나 구름 등 기상 요소 예측
에 대한 연구도 진행중이다.

이 밖에도 위성 영상은 해당 영상이 촬영된 시간, 지표, 각도, 태양의 각도, 위성의 궤도, 위성의 고도
등 다양한 메타 데이터를 포함하고 있다. 이러한 메타 데이터들은 딥러닝의 feature로도 활용될 수
있으며 이를 고려해 다양한 딥 러닝 기법들을 적용하여 연구를 수행한다.

-------------------------------------------------------------------------------------

전처리 과정

    - 위성 영상은 일반 카메라로 찍은 영상과 달리, 사람의 눈으로 인지할 수 있는 가시광선 영역
    뿐만 아니라 적외선과 마이크로파 영역 등 다양한 파장의 영상을 얻을 수 있다. 일반적으로
    흔히 볼 수 있는 위성 영상은 정사각형 형태의 grid로 이루어져 있으며, 영상 자체의 위쪽이
    북쪽을 가리키는 방향으로 정렬되어 있다. 지표에서 반사된 태양에너지가 위성의 관측 센서로 들어오면
    센서 내부에서 감지된 빛의 밝기가 하나의 픽셀로 저장되며 각각 독립적인 밝기 값을 가진 픽셀들이
    조합되어 연속적인 명암을 가진 하나의 영상으로 구성된다. 이렇게 획득한 자료는 일반 사진과 달리
    별도의 영상 처리 작업을 거쳐야 사용할 수 있는 형태의 영상이 되며 이런 과정을 '전처리'라고 한다.

    - 전처리에는 다음과 같은 단계들이 포함된다.

        1) 방사 보정(Radiometric Correction)
        2) 대기 보정(Atmospheric Correction)
        3) 정사 보정(Orthorectification)
        4) 기하 보정(Geometric Correction)

방사 보정(Radiometric Correction)

    디텍터에 기록된 raw data를 지표 반사도로 변환해주는 과정으로, 위성 센서에서 관측되는 전자기파는
    위성 자체의 특성이나 지형, 대기 효과 등에 의해 왜곡이 일어나고 이러한 오차를 보정 계수 등을
    통해 지표 물체의 순수 반사도 값으로 도출해주는 과정이 필요하다.

    1) 위성 자체 메타데이터를 이용해 픽셀 값을 센서에서 감지한 radiance 값으로 변환

    2) 태양과 지구의 거리, 태양각, exoatomospheric irradiance 등을 이용해 radiance 값을 상부
    대기 반사도로 변환 (Top of Atmosphere Reflectance)

    3) 영상이 촬영될 당시의 대기 효과를 고려한 대기 보정을 적용해 지표 반사도만 표현하도록 변환

대기 보정(Atmospheric Correction)

    방사 보정에 포함되는 과정 중의 하나로, 대기 효과에 의한 반사도 왜곡을 보정해주기 위한 과정
    태양 복사 에너지가 대기를 통과해 지표에서 반사되어 다시 대기를 지나 위성 센서에 도달하는 에너지를
    관측하여 위성 영상이 생성. 이 때 태양빛이 대기를 지나는 동안 흡수, 반사, 산란 등의 현상이 일어나
    실제 지표 반사도와 센서에서 관측되는 값이 달라지게 된다.

    대기 보정은 이러한 대기에 의한 산란과정을 보정해주는 과정이다.

정사 보정(Orthorectification)

    위성의 촬영각, 지형 등에 의한 영향을 제거해 수직 방향에서 보는 것과 같이 보정해 주는 과정.
    기하 보정 모듈인 RPCs(Ratonal Polynomial Coefficients)와 지형에 대한 정확한 정보를 나타내는
    DEM(Digital Elevation Model)이 필요하다.

기하 보정(Geometric Correction)

    위성 영상의 픽셀 좌표와 지리 좌표를 맞춰주는 과정. 위성의 고도, 자세, 속도 변화, 지구의 곡률 등에
    의해 영상의 기하학적인 왜곡이 발생하곤 한다. 따라서 이를 보정하기 위해 위성 영상의 픽셀 좌표와
    지리 좌표와의 대응관계를 정량적으로 해석하는 과정이 포함된다. 이 과정에서 영상의 위쪽이 북쪽을
    가리키며 픽셀 당 실제 거리가 일정하게 유지된다.

    기하 왜곡은 크게 systematic distortion과 non-systematic distortion으로 구분된다.
    systematic distortion은 위성 내부 센서나 궤도 위치 정보 등을 이용하여 보정될 수 있다.
    반면 non-systematic distortion은 영상 좌표계와 지리 좌표계 사이에 대응되는 점인 GCP
    (Ground Control Point)를 이용하거나 좌표계 및 지도 투영법 등을 적용하여 보정한다.

-> 연구의 목적에 따라 위성 영상을 주문하는 과정에서 어느 정도의 처리 레벨까지 수행된 영상을 받을지
선택할 수 있다. 일반적으로 radiometric correction 까지 수행된 영상, 혹은 geometric correction
까지 수행된 영상을 선택한다. 하지만 영상이 제공될 때 충분한 전처리가 적용되었다고 해도 위성 자체의
오차나 순간적인 자세 오차, 극심한 대기 효과 등으로 만족할 만한 영상을 얻지 못하는 경우가 발생한다.

SI_Analytics는 전처리를 보완하기 위해















